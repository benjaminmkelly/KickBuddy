{"ast":null,"code":"import _slicedToArray from\"C:/Users/bkell/Desktop/KickBuddy/kickbuddy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{Buffer}from'buffer';import'../../css/LoginPage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(_ref){var authenticated=_ref.authenticated,setAuthenticated=_ref.setAuthenticated,handleAuthenticated=_ref.handleAuthenticated;/** Username and password variables for logging in */var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];/** Login detail variables for signing up to create an account */var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),signUpName=_useState6[0],setSignUpName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),signUpUsername=_useState8[0],setSignUpUsername=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),signUpPassword=_useState10[0],setSignUpPassword=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),signUpPassword2=_useState12[0],setSignUpPassword2=_useState12[1];useEffect(function(){if(localStorage.getItem('token')){handleAuthenticated(true);}});/** Arrow functions to handle authentication */var handleUsername=function handleUsername(event){setUsername(event.target.value);};var handlePassword=function handlePassword(event){setPassword(event.target.value);};var handleSignUpName=function handleSignUpName(event){setSignUpName(event.target.value);};var handleSignUpUsername=function handleSignUpUsername(event){setSignUpUsername(event.target.value);};var handleSignUpPassword=function handleSignUpPassword(event){setSignUpPassword(event.target.value);};var handleSignUpPassword2=function handleSignUpPassword2(event){setSignUpPassword2(event.target.value);};// ----------------------------------- UNCOMMENT IF WORKING - DUMMY CODE BELOW FOR NOW -----------\n// const handleLogin = () => {\n//     const encodedString = Buffer.from(username + \":\" + password).toString('base64');\n//     fetch(\"http://unn-w19014367.newnumyspace.co.uk/kickbuddy/api/login\",\n//         {\n//             method: 'POST',\n//             headers: new Headers({ \"Authorization\": \"Basic \" + encodedString })\n//         })\n//         .then(\n//             (response) => {\n//                 return response.json();\n//             }\n//         )\n//         .then(\n//             (json) => {\n//                 if(json.message.toLowerCase() === \"success\")\n//                     if(json.data.hasOwnProperty('token')) {\n//                         localStorage.setItem('token', json.data.token);\n//                         handleAuthenticated(true);\n//                     }\n//             }\n//         )\n//         .catch(\n//             (e) => {\n//                 console.log(e.message)\n//             }\n//         )\n//   }\n// ----------------------------------- UNCOMMENT IF WORKING - DUMMY CODE BELOW FOR NOW -----------\n// TEMP DUMMY CODE HERE\nvar handleLogin=function handleLogin(){handleAuthenticated(true);localStorage.setItem('token','12345');//change 12345 to encoded username\nlocalStorage.setItem('username',username);};// ------------ END OF TEMP DUMMY CODE -----------------------------------------------------------\nvar handleSignUp=function handleSignUp(){setSignUpName(signUpName);setSignUpUsername(signUpUsername);setSignUpPassword(signUpPassword);setSignUpPassword2(signUpPassword2);var formData=new FormData();formData.append(signUpName);formData.append(signUpUsername);formData.append(signUpPassword);formData.append(signUpPassword2);fetch(\"http://unn-w19014367.newnumyspace.co.uk/kickbuddy/api/signup\",{method:'POST',body:formData});};/** Variables to store new user details to add to database */return/*#__PURE__*/_jsx(\"div\",{children:!authenticated&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-container-login\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Sign in with your username and password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"login-username-field\",type:\"text\",placeholder:\"Username\",value:username,onChange:handleUsername}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"login-password-field\",type:\"password\",placeholder:\"Password\",value:password,onChange:handlePassword}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"login-signin-button\",type:\"button\",value:\"Sign In\",onClick:handleLogin})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-container-signup\",id:true,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Don't have an account? Sign up here:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"signup-name-field\",type:\"text\",placeholder:\"Enter your name\",value:signUpName,onChange:handleSignUpName}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"signup-username-field\",type:\"text\",placeholder:\"Enter your username\",value:signUpUsername,defaultValue:signUpUsername,onChange:handleSignUpUsername}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"signup-password-field\",type:\"password\",placeholder:\"Enter your password\",defaultValue:signUpPassword,onChange:handleSignUpPassword}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"signup-password-field2\",type:\"password\",placeholder:\"Re-enter your password\",defaultValue:signUpPassword2,onChange:handleSignUpPassword2}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"signup-signup-button\",type:\"button\",value:\"Sign Up\",onClick:handleSignUp// need to write handleSignUp function to add user details to database\n// also need validation for that info\n})]})]})]})});}export default LoginPage;","map":{"version":3,"names":["useState","useEffect","Buffer","LoginPage","authenticated","setAuthenticated","handleAuthenticated","username","setUsername","password","setPassword","signUpName","setSignUpName","signUpUsername","setSignUpUsername","signUpPassword","setSignUpPassword","signUpPassword2","setSignUpPassword2","localStorage","getItem","handleUsername","event","target","value","handlePassword","handleSignUpName","handleSignUpUsername","handleSignUpPassword","handleSignUpPassword2","handleLogin","setItem","handleSignUp","formData","FormData","append","fetch","method","body"],"sources":["C:/Users/bkell/Desktop/KickBuddy/kickbuddy/src/components/pages/LoginPage.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Buffer } from 'buffer';\r\nimport '../../css/LoginPage.css';\r\n\r\nfunction LoginPage({ authenticated, setAuthenticated, handleAuthenticated }) {\r\n\r\n    /** Username and password variables for logging in */\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    /** Login detail variables for signing up to create an account */\r\n    const [signUpName, setSignUpName] = useState(\"\");\r\n    const [signUpUsername, setSignUpUsername] = useState(\"\");\r\n    const [signUpPassword, setSignUpPassword] = useState(\"\");\r\n    const [signUpPassword2, setSignUpPassword2] = useState(\"\");\r\n\r\n\r\n    useEffect(\r\n        () => {\r\n            if(localStorage.getItem('token')) {\r\n                handleAuthenticated(true);\r\n            }\r\n        });\r\n\r\n    /** Arrow functions to handle authentication */\r\n    const handleUsername = (event) => {\r\n        setUsername(event.target.value);\r\n    }\r\n    const handlePassword = (event) => {\r\n        setPassword(event.target.value);\r\n    }\r\n\r\n    const handleSignUpName = (event) => {\r\n        setSignUpName(event.target.value);\r\n    }\r\n    const handleSignUpUsername = (event) => {\r\n        setSignUpUsername(event.target.value);\r\n    }\r\n    const handleSignUpPassword = (event) => {\r\n        setSignUpPassword(event.target.value);\r\n    }\r\n    const handleSignUpPassword2 = (event) => {\r\n        setSignUpPassword2(event.target.value);\r\n    }\r\n\r\n    \r\n    // ----------------------------------- UNCOMMENT IF WORKING - DUMMY CODE BELOW FOR NOW -----------\r\n    // const handleLogin = () => {\r\n\r\n    //     const encodedString = Buffer.from(username + \":\" + password).toString('base64');\r\n\r\n    //     fetch(\"http://unn-w19014367.newnumyspace.co.uk/kickbuddy/api/login\",\r\n    //         {\r\n    //             method: 'POST',\r\n    //             headers: new Headers({ \"Authorization\": \"Basic \" + encodedString })\r\n    //         })\r\n    //         .then(\r\n    //             (response) => {\r\n    //                 return response.json();\r\n    //             }\r\n    //         )\r\n    //         .then(\r\n    //             (json) => {\r\n    //                 if(json.message.toLowerCase() === \"success\")\r\n    //                     if(json.data.hasOwnProperty('token')) {\r\n    //                         localStorage.setItem('token', json.data.token);\r\n    //                         handleAuthenticated(true);\r\n    //                     }\r\n    //             }\r\n    //         )\r\n    //         .catch(\r\n    //             (e) => {\r\n    //                 console.log(e.message)\r\n    //             }\r\n    //         )\r\n    //   }\r\n    // ----------------------------------- UNCOMMENT IF WORKING - DUMMY CODE BELOW FOR NOW -----------\r\n    // TEMP DUMMY CODE HERE\r\n    \r\n    const handleLogin = () => {\r\n        handleAuthenticated(true);\r\n        localStorage.setItem('token', '12345'); //change 12345 to encoded username\r\n        localStorage.setItem('username', username);\r\n    }\r\n\r\n    // ------------ END OF TEMP DUMMY CODE -----------------------------------------------------------\r\n\r\n    const handleSignUp = () => {\r\n        setSignUpName(signUpName);\r\n        setSignUpUsername(signUpUsername);\r\n        setSignUpPassword(signUpPassword);\r\n        setSignUpPassword2(signUpPassword2);\r\n\r\n        let formData = new FormData();\r\n        formData.append(signUpName);\r\n        formData.append(signUpUsername);\r\n        formData.append(signUpPassword);\r\n        formData.append(signUpPassword2);\r\n\r\n        fetch(\"http://unn-w19014367.newnumyspace.co.uk/kickbuddy/api/signup\",\r\n        {\r\n            method: 'POST',\r\n            body: formData\r\n        })\r\n\r\n    }\r\n\r\n\r\n\r\n    /** Variables to store new user details to add to database */\r\n    \r\n    \r\n    \r\n    return(\r\n        <div>\r\n            {!authenticated && <div>\r\n                <h2>Sign In</h2>\r\n                <div className=\"login-container\">\r\n                    <div className=\"login-container-login\">\r\n                        <p>Sign in with your username and password</p>\r\n                        <input\r\n                            className=\"login-username-field\"\r\n                            type=\"text\"\r\n                            placeholder=\"Username\"\r\n                            value={username}\r\n                            onChange={handleUsername}\r\n                        />\r\n                        <br/>\r\n                        <input\r\n                            className=\"login-password-field\"\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={password}\r\n                            onChange={handlePassword}\r\n                        />\r\n                        <br/>\r\n                        <input\r\n                            className=\"login-signin-button\"\r\n                            type=\"button\"\r\n                            value=\"Sign In\"\r\n                            onClick={handleLogin}\r\n                        />\r\n                    </div>\r\n                    <br />\r\n                    <div className=\"login-container-signup\" id>\r\n                        <p>Don't have an account? Sign up here:</p>\r\n                        <input\r\n                            className=\"signup-name-field\"\r\n                            type=\"text\"\r\n                            placeholder=\"Enter your name\"\r\n                            value={signUpName}\r\n                            onChange={handleSignUpName}\r\n                        />\r\n                        <br/>\r\n                        <input\r\n                            className=\"signup-username-field\"\r\n                            type=\"text\"\r\n                            placeholder=\"Enter your username\"\r\n                            value={signUpUsername}\r\n                            defaultValue={signUpUsername}\r\n                            onChange={handleSignUpUsername}\r\n                        />\r\n                        <br/>\r\n                        <input\r\n                            className=\"signup-password-field\"\r\n                            type=\"password\"\r\n                            placeholder=\"Enter your password\"\r\n                            defaultValue={signUpPassword}\r\n                            onChange={handleSignUpPassword}\r\n                        />\r\n                        <br/>\r\n                        <input\r\n                            className=\"signup-password-field2\"\r\n                            type=\"password\"\r\n                            placeholder=\"Re-enter your password\"\r\n                            defaultValue={signUpPassword2}\r\n                            onChange={handleSignUpPassword2}\r\n                        />\r\n                        <br/>\r\n                        <input\r\n                            className=\"signup-signup-button\"\r\n                            type=\"button\"\r\n                            value=\"Sign Up\"\r\n                            onClick={handleSignUp}\r\n                            // need to write handleSignUp function to add user details to database\r\n                            // also need validation for that info\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default LoginPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}