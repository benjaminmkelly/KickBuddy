{"ast":null,"code":"import _slicedToArray from\"C:/Users/bkell/Desktop/KickBuddy/kickbuddy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import CircularProgress from'@mui/material/CircularProgress';import'../../css/PlayPage.css';import Match from'../Match.js';import{Dialog,DialogTitle,DialogContent,DialogContentText,DialogActions,Button}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PlayPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),matches=_useState2[0],setMatches=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),openPostMatch=_useState6[0],setOpenPostMatch=_useState6[1];/** Variables to store uploaded match details */var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),upload_Team1=_useState8[0],setUpload_Team1=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),upload_Team2=_useState10[0],setUpload_Team2=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),upload_Date=_useState12[0],setUpload_Date=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),upload_Time=_useState14[0],setUpload_Time=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),upload_Venue=_useState16[0],setUpload_Venue=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),matchFormData=_useState18[0],setMatchFormData=_useState18[1];useEffect(function(){fetch('http://unn-w19014367.newnumyspace.co.uk/kickbuddy/api/play').then(function(response){return response.json();}).then(function(json){setMatches(json.data);setLoading(false);}).catch(function(e){console.log(e.message);setLoading(false);});});/** Mapping the query result into individual objects */var matchesList=matches.slice(1,4).map(function(match){return/*#__PURE__*/_jsx(Match,{contents:match},match.matchID);});// possibly remove the slice once I figure out page numbers\nvar extendMatchesList=function extendMatchesList(){// Code to produce more matches here\nalert(\"Work in Progress! Check back later!\");};/** Post match dialog box functions */var handleClickToOpenPostMatch=function handleClickToOpenPostMatch(){setOpenPostMatch(true);};var handleToClosePostMatch=function handleToClosePostMatch(){setOpenPostMatch(false);};/** Post Match Form functions */var handlePostMatch=function handlePostMatch(){setMatchFormData({\"matchName\":upload_Team1+\" vs \"+upload_Team2,\"KODate\":upload_Date,\"KOTime\":upload_Time,\"venue\":upload_Venue});return JSON.stringify(matchFormData);};var handleUpload_Team1=function handleUpload_Team1(event){setUpload_Team1(event.target.value);};var handleUpload_Team2=function handleUpload_Team2(event){setUpload_Team2(event.target.value);};var handleUpload_Date=function handleUpload_Date(event){setUpload_Date(event.target.value);};var handleUpload_Time=function handleUpload_Time(event){setUpload_Time(event.target.value);};var handleUpload_Venue=function handleUpload_Venue(event){setUpload_Venue(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Find a Match\"}),loading&&/*#__PURE__*/_jsx(CircularProgress,{color:\"inherit\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[matchesList,/*#__PURE__*/_jsxs(Dialog,{open:openPostMatch,onClose:handleToClosePostMatch,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"POST A MATCH\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"upload-match-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Team 1\",defaultValue:upload_Team1,onChange:handleUpload_Team1}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Team 2\",defaultValue:upload_Team2,onChange:handleUpload_Team2}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter date (dd/mm/yy)\",defaultValue:upload_Date,onChange:handleUpload_Date}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter time (hh:mm)\",defaultValue:upload_Time,onChange:handleUpload_Time}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Venue\",defaultValue:upload_Venue,onChange:handleUpload_Venue}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePostMatch,children:\"POST\"})]})})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:handleToClosePostMatch,color:\"primary\",autoFocus:true,children:\"CLOSE\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"post-match-button\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleClickToOpenPostMatch,children:\"POST MATCH\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"more-matches-button\",children:/*#__PURE__*/_jsx(\"button\",{onClick:extendMatchesList,children:\"MORE MATCHES\"})})]})]})]});}export default PlayPage;","map":{"version":3,"names":["useEffect","useState","CircularProgress","Match","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","PlayPage","matches","setMatches","loading","setLoading","openPostMatch","setOpenPostMatch","upload_Team1","setUpload_Team1","upload_Team2","setUpload_Team2","upload_Date","setUpload_Date","upload_Time","setUpload_Time","upload_Venue","setUpload_Venue","matchFormData","setMatchFormData","fetch","then","response","json","data","catch","e","console","log","message","matchesList","slice","map","match","matchID","extendMatchesList","alert","handleClickToOpenPostMatch","handleToClosePostMatch","handlePostMatch","JSON","stringify","handleUpload_Team1","event","target","value","handleUpload_Team2","handleUpload_Date","handleUpload_Time","handleUpload_Venue"],"sources":["C:/Users/bkell/Desktop/KickBuddy/kickbuddy/src/components/pages/PlayPage.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport '../../css/PlayPage.css';\r\nimport Match from '../Match.js';\r\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button } from '@mui/material';\r\n\r\n\r\nfunction PlayPage() {\r\n\r\n    const [matches, setMatches] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [openPostMatch, setOpenPostMatch] = useState(false);\r\n\r\n    /** Variables to store uploaded match details */\r\n    const [upload_Team1, setUpload_Team1] = useState(\"\");\r\n    const [upload_Team2, setUpload_Team2] = useState(\"\");\r\n    const [upload_Date, setUpload_Date] = useState(\"\");\r\n    const [upload_Time, setUpload_Time] = useState(\"\");\r\n    const [upload_Venue, setUpload_Venue] = useState(\"\");\r\n    const [matchFormData, setMatchFormData] = useState([]);\r\n\r\n    useEffect( () => {\r\n        fetch('http://unn-w19014367.newnumyspace.co.uk/kickbuddy/api/play')\r\n            .then(response => response.json())\r\n            .then(\r\n                (json) => {\r\n                    setMatches(json.data);\r\n                    setLoading(false);\r\n                }\r\n            )\r\n            .catch (\r\n                (e) => {\r\n                    console.log(e.message);\r\n                    setLoading(false);\r\n                }\r\n            )\r\n    });\r\n\r\n    /** Mapping the query result into individual objects */\r\n    const matchesList = matches.slice(1,4).map(match => (<Match key={match.matchID} contents={match} />)); // possibly remove the slice once I figure out page numbers\r\n    \r\n    const extendMatchesList = () => {\r\n        // Code to produce more matches here\r\n        alert(\"Work in Progress! Check back later!\");\r\n    };\r\n\r\n    /** Post match dialog box functions */\r\n    const handleClickToOpenPostMatch = () => {\r\n        setOpenPostMatch(true);\r\n    };\r\n    const handleToClosePostMatch = () => {\r\n        setOpenPostMatch(false);\r\n    };\r\n\r\n    /** Post Match Form functions */\r\n    const handlePostMatch = () => {\r\n        setMatchFormData({\r\n            \"matchName\" : upload_Team1 + \" vs \" + upload_Team2,\r\n            \"KODate\" : upload_Date,\r\n            \"KOTime\" : upload_Time,\r\n            \"venue\" : upload_Venue\r\n        });\r\n        return(\r\n            JSON.stringify(matchFormData)\r\n        );\r\n    };\r\n    \r\n    const handleUpload_Team1 = (event) => {\r\n        setUpload_Team1(event.target.value);\r\n    };\r\n    const handleUpload_Team2 = (event) => {\r\n        setUpload_Team2(event.target.value);\r\n    };\r\n    const handleUpload_Date = (event) => {\r\n        setUpload_Date(event.target.value);\r\n    };\r\n    const handleUpload_Time = (event) => {\r\n        setUpload_Time(event.target.value);\r\n    };\r\n    const handleUpload_Venue = (event) => {\r\n        setUpload_Venue(event.target.value);\r\n    };\r\n    \r\n    return(\r\n        <div>\r\n            <div>\r\n                <h2>Find a Match</h2>\r\n                {loading && <CircularProgress color=\"inherit\" />}\r\n            </div>\r\n            <div>\r\n                {matchesList}\r\n\r\n                <Dialog open={openPostMatch} onClose={handleToClosePostMatch}>\r\n                    <DialogTitle>{\"POST A MATCH\"}</DialogTitle>\r\n                    <DialogContent>\r\n                        <div>\r\n                            <form className=\"upload-match-form\">\r\n                                <input \r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter Team 1\"\r\n                                    defaultValue={upload_Team1}\r\n                                    onChange={handleUpload_Team1}\r\n                                />\r\n                                <input \r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter Team 2\"\r\n                                    defaultValue={upload_Team2}\r\n                                    onChange={handleUpload_Team2}\r\n                                />\r\n                                <input \r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter date (dd/mm/yy)\"\r\n                                    defaultValue={upload_Date}\r\n                                    onChange={handleUpload_Date}\r\n                                />\r\n                                <input \r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter time (hh:mm)\"\r\n                                    defaultValue={upload_Time}\r\n                                    onChange={handleUpload_Time}\r\n                                />\r\n                                <input \r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter Venue\"\r\n                                    defaultValue={upload_Venue}\r\n                                    onChange={handleUpload_Venue}\r\n                                />\r\n                                <br />\r\n                                <button onClick={handlePostMatch}>POST</button>\r\n                            </form>\r\n                        </div>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button\r\n                            onClick={handleToClosePostMatch}\r\n                            color=\"primary\" \r\n                            autoFocus>\r\n                                CLOSE\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n\r\n                <div className=\"grid-container\">\r\n                    <div className=\"post-match-button\">\r\n                        <button onClick={handleClickToOpenPostMatch}>POST MATCH</button>\r\n                    </div>\r\n                    <div className=\"more-matches-button\">\r\n                        <button onClick={extendMatchesList}>MORE MATCHES</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default PlayPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}