{"ast":null,"code":"import _slicedToArray from\"C:/Users/bkell/Desktop/KickBuddy/kickbuddy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{Buffer}from'buffer';import'../../css/LoginPage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginPage(_ref){var authenticated=_ref.authenticated,setAuthenticated=_ref.setAuthenticated,handleAuthenticated=_ref.handleAuthenticated;/** Username and password variables for logging in */var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];/** Login detail variables for signing up to create an account */var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),signUpName=_useState6[0],setSignUpName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),signUpUsername=_useState8[0],setSignUpUsername=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),signUpPassword=_useState10[0],setSignUpPassword=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),signUpPassword2=_useState12[0],setSignUpPassword2=_useState12[1];useEffect(function(){if(localStorage.getItem('token')){handleAuthenticated(true);}});/** Arrow functions to handle authentication */var handleUsername=function handleUsername(event){setUsername(event.target.value);};var handlePassword=function handlePassword(event){setPassword(event.target.value);};// ----------------------------------- UNCOMMENT IF WORKING - DUMMY CODE BELOW FOR NOW -----------\n// const handleLogin = () => {\n//     const encodedString = Buffer.from(username + \":\" + password).toString('base64');\n//     fetch(\"http://unn-w19014367.newnumyspace.co.uk/kickbuddy/api/login\",\n//         {\n//             method: 'POST',\n//             headers: new Headers({ \"Authorization\": \"Basic \" + encodedString })\n//         })\n//         .then(\n//             (response) => {\n//                 return response.json();\n//             }\n//         )\n//         .then(\n//             (json) => {\n//                 if(json.message.toLowerCase() === \"success\")\n//                     if(json.data.hasOwnProperty('token')) {\n//                         localStorage.setItem('token', json.data.token);\n//                         handleAuthenticated(true);\n//                     }\n//             }\n//         )\n//         .catch(\n//             (e) => {\n//                 console.log(e.message)\n//             }\n//         )\n//   }\n// ----------------------------------- UNCOMMENT IF WORKING - DUMMY CODE BELOW FOR NOW -----------\n// TEMP DUMMY CODE HERE\nvar handleLogin=function handleLogin(){handleAuthenticated(true);localStorage.setItem('token','12345');//change 12345 to encoded username\nlocalStorage.setItem('username',username);};// ------------ END OF TEMP DUMMY CODE -----------------------------------------------------------\n/** Variables to store new user details to add to database */return/*#__PURE__*/_jsx(\"div\",{children:!authenticated&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-container-login\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Sign in with your username and password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"login-username-field\",type:\"text\",placeholder:\"Username\",value:username,onChange:handleUsername}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"login-password-field\",type:\"password\",placeholder:\"Password\",value:password,onChange:handlePassword}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"login-signin-button\",type:\"button\",value:\"Sign In\",onClick:handleLogin})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-container-signup\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Don't have an account? Sign up here:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"signup-name-field\",type:\"text\",placeholder:\"Name\",value:signUpName// need to add onChange={handleSignUpName}\n}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"signup-username-field\",type:\"text\",placeholder:\"Username\",value:signUpUsername}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"signup-password-field\",type:\"password\",placeholder:\"Password\",value:signUpPassword}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"signup-password-field2\",type:\"password\",placeholder:\"Password\",value:signUpPassword2}),/*#__PURE__*/_jsx(\"input\",{className:\"signup-signup-button\",type:\"button\",value:\"Sign Up\"// need to write handleSignUp function to add user details to database\n// also need validation for that info\n})]})]})]})});}export default LoginPage;","map":{"version":3,"names":["useState","useEffect","Buffer","LoginPage","authenticated","setAuthenticated","handleAuthenticated","username","setUsername","password","setPassword","signUpName","setSignUpName","signUpUsername","setSignUpUsername","signUpPassword","setSignUpPassword","signUpPassword2","setSignUpPassword2","localStorage","getItem","handleUsername","event","target","value","handlePassword","handleLogin","setItem"],"sources":["C:/Users/bkell/Desktop/KickBuddy/kickbuddy/src/components/pages/LoginPage.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Buffer } from 'buffer';\r\nimport '../../css/LoginPage.css';\r\n\r\nfunction LoginPage({ authenticated, setAuthenticated, handleAuthenticated }) {\r\n\r\n    /** Username and password variables for logging in */\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    /** Login detail variables for signing up to create an account */\r\n    const [signUpName, setSignUpName] = useState(\"\");\r\n    const [signUpUsername, setSignUpUsername] = useState(\"\");\r\n    const [signUpPassword, setSignUpPassword] = useState(\"\");\r\n    const [signUpPassword2, setSignUpPassword2] = useState(\"\");\r\n\r\n\r\n    useEffect(\r\n        () => {\r\n            if(localStorage.getItem('token')) {\r\n                handleAuthenticated(true);\r\n            }\r\n        });\r\n\r\n    /** Arrow functions to handle authentication */\r\n    const handleUsername = (event) => {\r\n        setUsername(event.target.value);\r\n    }\r\n    const handlePassword = (event) => {\r\n        setPassword(event.target.value);\r\n    }\r\n\r\n    \r\n    // ----------------------------------- UNCOMMENT IF WORKING - DUMMY CODE BELOW FOR NOW -----------\r\n    // const handleLogin = () => {\r\n\r\n    //     const encodedString = Buffer.from(username + \":\" + password).toString('base64');\r\n\r\n    //     fetch(\"http://unn-w19014367.newnumyspace.co.uk/kickbuddy/api/login\",\r\n    //         {\r\n    //             method: 'POST',\r\n    //             headers: new Headers({ \"Authorization\": \"Basic \" + encodedString })\r\n    //         })\r\n    //         .then(\r\n    //             (response) => {\r\n    //                 return response.json();\r\n    //             }\r\n    //         )\r\n    //         .then(\r\n    //             (json) => {\r\n    //                 if(json.message.toLowerCase() === \"success\")\r\n    //                     if(json.data.hasOwnProperty('token')) {\r\n    //                         localStorage.setItem('token', json.data.token);\r\n    //                         handleAuthenticated(true);\r\n    //                     }\r\n    //             }\r\n    //         )\r\n    //         .catch(\r\n    //             (e) => {\r\n    //                 console.log(e.message)\r\n    //             }\r\n    //         )\r\n    //   }\r\n    // ----------------------------------- UNCOMMENT IF WORKING - DUMMY CODE BELOW FOR NOW -----------\r\n    // TEMP DUMMY CODE HERE\r\n    \r\n    const handleLogin = () => {\r\n        handleAuthenticated(true);\r\n        localStorage.setItem('token', '12345'); //change 12345 to encoded username\r\n        localStorage.setItem('username', username);\r\n    }\r\n\r\n    // ------------ END OF TEMP DUMMY CODE -----------------------------------------------------------\r\n\r\n\r\n\r\n\r\n    /** Variables to store new user details to add to database */\r\n    \r\n    \r\n    \r\n    return(\r\n        <div>\r\n            {!authenticated && <div>\r\n                <h2>Sign In</h2>\r\n                <div className=\"login-container\">\r\n                    <div className=\"login-container-login\">\r\n                        <p>Sign in with your username and password</p>\r\n                        <input\r\n                            className=\"login-username-field\"\r\n                            type=\"text\"\r\n                            placeholder=\"Username\"\r\n                            value={username}\r\n                            onChange={handleUsername}\r\n                        />\r\n                        <br/>\r\n                        <input\r\n                            className=\"login-password-field\"\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={password}\r\n                            onChange={handlePassword}\r\n                        />\r\n                        <br/>\r\n                        <input\r\n                            className=\"login-signin-button\"\r\n                            type=\"button\"\r\n                            value=\"Sign In\"\r\n                            onClick={handleLogin}\r\n                        />\r\n                    </div>\r\n                    <br />\r\n                    <div className=\"login-container-signup\">\r\n                        <p>Don't have an account? Sign up here:</p>\r\n                        <input\r\n                            className=\"signup-name-field\"\r\n                            type=\"text\"\r\n                            placeholder=\"Name\"\r\n                            value={signUpName}\r\n                            // need to add onChange={handleSignUpName}\r\n                        />\r\n                        <br/>\r\n                        <input\r\n                            className=\"signup-username-field\"\r\n                            type=\"text\"\r\n                            placeholder=\"Username\"\r\n                            value={signUpUsername}\r\n                        />\r\n                        <br/>\r\n                        <input\r\n                            className=\"signup-password-field\"\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={signUpPassword}\r\n                        />\r\n                        <br/>\r\n                        <input\r\n                            className=\"signup-password-field2\"\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={signUpPassword2}\r\n                        />\r\n                        <input\r\n                            className=\"signup-signup-button\"\r\n                            type=\"button\"\r\n                            value=\"Sign Up\"\r\n                            // need to write handleSignUp function to add user details to database\r\n                            // also need validation for that info\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default LoginPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}